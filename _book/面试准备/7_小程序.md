# 面试准备7 - 小程序

## 基础知识
* 传值 
    * WXML: `data-`
    * js：e.currentTarget.dataset

## 混合开发
> 数据驱动的架构模式，数据和UI分开

* webview: 展示UI
* appService: 处理业务逻辑、数据及接口
* JSBridge: 用于通信

### 逻辑层通过setData更新页面
* 渲染层：WXML ==> JS
* 逻辑层：数据 ==> 渲染层
* JSBridge：对比，渲染到页面

## 性能优化
### 启动加载优化
* 控制包大小：上传代码，勾选压缩，删除无用代码，减少静态资源，从网络获取
* 采用分包加载（主包2M + 子包6M）：子包按需加载 
* 利用缓存
* 避免白屏：骨架屏

### 渲染性能优化
* 避免使用不当的setData
    * 合并操作
    * 数据复杂、不在页面的数据，不要放在data里
* 合理利用事件通信
* 避免不当的使用onPageScroll
* 优化视图节点
* 使用自定义组件